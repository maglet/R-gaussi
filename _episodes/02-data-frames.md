---
title: "Exploring Data Frames"
teaching: 30
exercises: 20
questions:
- "How can I get to know the structure a data frame?"
- "How can I work with subsets of data in R?"
objectives:
- "Be able to find basic properties of a data frames including size, class or type of the columns, names, and first few rows."
- "Be able to articulate what a `factor` is and how to convert between `factor` and `character`."
- "To be able to subset data frames"
- "To be able to extract individual and multiple elements by index, by name, using comparison operations"

keypoints:
- "Read in a csv file using `read.csv()`"
- "Use `str()`, `nrow()`, `ncol()`, `dim()`, `colnames()`, `rownames()`, `head()` and `typeof()` to understand structure of the data frame"
- "Understand `length()` of a data frame"
- "Use `levels()` and `as.character()` to explore and manipulate factors"
- "Access individual values by location using `[]`."
- "Access slices of data using `[low:high]`."
- "Access arbitrary sets of data using `[c(...)]`."

source: Rmd
---



In this lesson, we'll learn about working with data frames using the gapminder
dataset in your R project folder:

To load the data table into an R variable, use the `read.csv` function.


~~~
gapminder <- read.csv("data/gapminder-FiveYearData.csv")
~~~
{: .r}

Let's investigate gapminder a bit; the first thing we should always do is check out what the data looks like with `str`:


~~~
str(gapminder)
~~~
{: .r}



~~~
'data.frame':	1704 obs. of  6 variables:
 $ country  : Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...
 $ pop      : num  8425333 9240934 10267083 11537966 13079460 ...
 $ continent: Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ lifeExp  : num  28.8 30.3 32 34 36.1 ...
 $ gdpPercap: num  779 821 853 836 740 ...
~~~
{: .output}

We can also examine individual columns of the data frame with our `typeof` function:


~~~
typeof(gapminder$year)
~~~
{: .r}



~~~
[1] "integer"
~~~
{: .output}



~~~
typeof(gapminder$country)
~~~
{: .r}



~~~
[1] "integer"
~~~
{: .output}



~~~
str(gapminder$country)
~~~
{: .r}



~~~
 Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...
~~~
{: .output}

We can also interrogate the data frame for information about its dimensions;
remembering that `str(gapminder)` said there were 1704 observations of 6
variables in gapminder, what do you think the following will produce, and why?


~~~
length(gapminder)
~~~
{: .r}



~~~
[1] 6
~~~
{: .output}

A fair guess would have been to say that the length of a data frame would be the
number of rows it has (1704), but this is not the case; remember, a data frame
is a *list of vectors and factors*:


~~~
typeof(gapminder)
~~~
{: .r}



~~~
[1] "list"
~~~
{: .output}

When `length` gave us 6, it's because gapminder is built out of a list of 6
columns. To get the number of rows and columns in our dataset, try:


~~~
nrow(gapminder)
~~~
{: .r}



~~~
[1] 1704
~~~
{: .output}



~~~
ncol(gapminder)
~~~
{: .r}



~~~
[1] 6
~~~
{: .output}

Or, both at once:


~~~
dim(gapminder)
~~~
{: .r}



~~~
[1] 1704    6
~~~
{: .output}

We'll also likely want to know what the titles of all the columns are, so we can
ask for them later:


~~~
colnames(gapminder)
~~~
{: .r}



~~~
[1] "country"   "year"      "pop"       "continent" "lifeExp"   "gdpPercap"
~~~
{: .output}

At this stage, it's important to ask ourselves if the structure R is reporting
matches our intuition or expectations; do the basic data types reported for each
column make sense? If not, we need to sort any problems out now before they turn
into bad surprises down the road, using what we've learned about how R
interprets data, and the importance of *strict consistency* in how we record our
data.

Once we're happy that the data types and structures seem reasonable, it's time
to start digging into our data proper. Check out the first few lines:


~~~
head(gapminder)
~~~
{: .r}



~~~
      country year      pop continent lifeExp gdpPercap
1 Afghanistan 1952  8425333      Asia  28.801  779.4453
2 Afghanistan 1957  9240934      Asia  30.332  820.8530
3 Afghanistan 1962 10267083      Asia  31.997  853.1007
4 Afghanistan 1967 11537966      Asia  34.020  836.1971
5 Afghanistan 1972 13079460      Asia  36.088  739.9811
6 Afghanistan 1977 14880372      Asia  38.438  786.1134
~~~
{: .output}

To make sure our analysis is reproducible, we should put the code
into a script file so we can come back to it later.

> ## Challenge
>
> Read the output of `str(gapminder)` again;
> this time, use what you've learned about factors, lists and vectors,
> as well as the output of functions like `colnames` and `dim`
> to explain what everything that `str` prints out for gapminder means.
> If there are any parts you can't interpret, discuss with your neighbors!
>
> > ## Solution to Challenge
> >
> > The object `gapminder` is a data frame with columns
> > - `country` and `continent` are factors.
> > - `year` is an integer vector.
> > - `pop`, `lifeExp`, and `gdpPercap` are numeric vectors.
> >
> {: .solution}
{: .challenge}

## Subsetting

There are many instances where you want to use only a part of a dataset instead of the whole thing. That's where **subsetting** comes in. R has many powerful subset operators and mastering them will allow you to
easily perform complex operations on any kind of dataset. 

Subetting lets you select a single data element or separate based on a factor. For example, what if you want all of the data concerning countries in Asia in the gapminder dataset. 


There are three ways to subset: by index, by name and by logical operators. Let's look at subsetting by index first. 

### Accessing elements using their indices

To simplify things, only look at one column of the data frame: `lifeExp`. From `str`, we know that it's the fifth column in the data frame. 

To load the `lifeExp` column into a new variable x: 


~~~
x<-gapminder[,5]
~~~
{: .r}

That means we want all of the fifth column loaded into x. Let's say we want to pick out the third element of x:


~~~
x[3]
~~~
{: .r}



~~~
[1] 31.997
~~~
{: .output}

We can ask for multiple elements at once. The following code selects the first and third elements using the `c`, or concatenate, function. `c` creates a vector of numbers that can be used for subsetting.


~~~
x[c(1, 3)]
~~~
{: .r}



~~~
[1] 28.801 31.997
~~~
{: .output}



~~~
c(1,3)
~~~
{: .r}



~~~
[1] 1 3
~~~
{: .output}

We can also ask for slices of the vector using the `:` operator.


~~~
x[1:4]
~~~
{: .r}



~~~
[1] 28.801 30.332 31.997 34.020
~~~
{: .output}

the `:` operator creates a sequence of numbers from the left element to the right. You can use the `c` function to do something similar

~~~
1:4
~~~
{: .r}



~~~
[1] 1 2 3 4
~~~
{: .output}



~~~
c(1, 2, 3, 4)
~~~
{: .r}



~~~
[1] 1 2 3 4
~~~
{: .output}

If we ask for a number outside of the vector, R will return missing values:


~~~
x[1800]
~~~
{: .r}



~~~
[1] NA
~~~
{: .output}

### Data Frames

Let's see how this subsetting thing works with whole data frames:

1. An index between single brackets selects a column


~~~
head(gapminder[1])
~~~
{: .r}



~~~
      country
1 Afghanistan
2 Afghanistan
3 Afghanistan
4 Afghanistan
5 Afghanistan
6 Afghanistan
~~~
{: .output}

2. If you want to select a single data point, you use ["row", "column"] format. The following selects the third row in the first column.


~~~
head(gapminder[3,1])
~~~
{: .r}



~~~
[1] Afghanistan
142 Levels: Afghanistan Albania Algeria Angola Argentina ... Zimbabwe
~~~
{: .output}

3. What if you want to select an entire row? Keep the comma, but remove the number specifying the column 


~~~
gapminder[3,]
~~~
{: .r}



~~~
      country year      pop continent lifeExp gdpPercap
3 Afghanistan 1962 10267083      Asia  31.997  853.1007
~~~
{: .output}

4. This works similarly if you want to select one column, but it's kind of redundant with #1 above.


~~~
gapminder[,3]
~~~
{: .r}



~~~
   [1]    8425333    9240934   10267083   11537966   13079460   14880372
   [7]   12881816   13867957   16317921   22227415   25268405   31889923
  [13]    1282697    1476505    1728137    1984060    2263554    2509048
  [19]    2780097    3075321    3326498    3428038    3508512    3600523
  [25]    9279525   10270856   11000948   12760499   14760787   17152804
  [31]   20033753   23254956   26298373   29072015   31287142   33333216
  [37]    4232095    4561361    4826015    5247469    5894858    6162675
  [43]    7016384    7874230    8735988    9875024   10866106   12420476
  [49]   17876956   19610538   21283783   22934225   24779799   26983828
  [55]   29341374   31620918   33958947   36203463   38331121   40301927
  [61]    8691212    9712569   10794968   11872264   13177000   14074100
  [67]   15184200   16257249   17481977   18565243   19546792   20434176
  [73]    6927772    6965860    7129864    7376998    7544201    7568430
  [79]    7574613    7578903    7914969    8069876    8148312    8199783
  [85]     120447     138655     171863     202182     230800     297410
  [91]     377967     454612     529491     598561     656397     708573
  [97]   46886859   51365468   56839289   62821884   70759295   80428306
 [103]   93074406  103764241  113704579  123315288  135656790  150448339
 [109]    8730405    8989111    9218400    9556500    9709100    9821800
 [115]    9856303    9870200   10045622   10199787   10311970   10392226
 [121]    1738315    1925173    2151895    2427334    2761407    3168267
 [127]    3641603    4243788    4981671    6066080    7026113    8078314
 [133]    2883315    3211738    3593918    4040665    4565872    5079716
 [139]    5642224    6156369    6893451    7693188    8445134    9119152
 [145]    2791000    3076000    3349000    3585000    3819000    4086000
 [151]    4172693    4338977    4256013    3607000    4165416    4552198
 [157]     442308     474639     512764     553541     619351     781472
 [163]     970347    1151184    1342614    1536536    1630347    1639131
 [169]   56602560   65551171   76039390   88049823  100840058  114313951
 [175]  128962939  142938076  155975974  168546719  179914212  190010647
 [181]    7274900    7651254    8012946    8310226    8576200    8797022
 [187]    8892098    8971958    8658506    8066057    7661799    7322858
 [193]    4469979    4713416    4919632    5127935    5433886    5889574
 [199]    6634596    7586551    8878303   10352843   12251209   14326203
 [205]    2445618    2667518    2961915    3330989    3529983    3834415
 [211]    4580410    5126023    5809236    6121610    7021078    8390505
 [217]    4693836    5322536    6083619    6960067    7450606    6978607
 [223]    7272485    8371791   10150094   11782962   12926707   14131858
 [229]    5009067    5359923    5793633    6335506    7021028    7959865
 [235]    9250831   10780667   12467171   14195809   15929988   17696293
 [241]   14785584   17010154   18985849   20819767   22284500   23796400
 [247]   25201900   26549700   28523502   30305843   31902268   33390141
 [253]    1291695    1392284    1523478    1733638    1927260    2167533
 [259]    2476971    2840009    3265124    3696513    4048013    4369038
 [265]    2682462    2894855    3150417    3495967    3899068    4388260
 [271]    4875118    5498955    6429417    7562011    8835739   10238807
 [277]    6377619    7048426    7961258    8858908    9717524   10599793
 [283]   11487112   12463354   13572994   14599929   15497046   16284741
 [289]  556263528  637408000  665770000  754550000  862030000  943455000
 [295] 1000281000 1084035000 1164970000 1230075000 1280400000 1318683096
 [301]   12350771   14485993   17009885   19764027   22542890   25094412
 [307]   27764644   30964245   34202721   37657830   41008227   44227550
 [313]     153936     170928     191689     217378     250027     304739
 [319]     348643     395114     454429     527982     614382     710960
 [325]   14100005   15577932   17486434   19941073   23007669   26480870
 [331]   30646495   35481645   41672143   47798986   55379852   64606759
 [337]     854885     940458    1047924    1179760    1340458    1536769
 [343]    1774735    2064095    2409073    2800947    3328795    3800610
 [349]     926317    1112300    1345187    1588717    1834796    2108457
 [355]    2424367    2799811    3173216    3518107    3834934    4133884
 [361]    2977019    3300000    3832408    4744870    6071696    7459574
 [367]    9025951   10761098   12772596   14625967   16252726   18013409
 [373]    3882229    3991242    4076557    4174366    4225310    4318673
 [379]    4413368    4484310    4494013    4444595    4481020    4493312
 [385]    6007797    6640752    7254373    8139332    8831348    9537988
 [391]    9789224   10239839   10723260   10983007   11226999   11416987
 [397]    9125183    9513758    9620282    9835109    9862158   10161915
 [403]   10303704   10311597   10315702   10300707   10256295   10228744
 [409]    4334000    4487831    4646899    4838800    4991596    5088419
 [415]    5117810    5127024    5171393    5283663    5374693    5468120
 [421]      63149      71851      89898     127617     178848     228694
 [427]     305991     311025     384156     417908     447416     496374
 [433]    2491346    2923186    3453434    4049146    4671329    5302800
 [439]    5968349    6655297    7351181    7992357    8650322    9319622
 [445]    3548753    4058385    4681707    5432424    6298651    7278866
 [451]    8365850    9545158   10748394   11911819   12921234   13755680
 [457]   22223309   25009741   28173309   31681188   34807417   38783863
 [463]   45681811   52799062   59402198   66134291   73312559   80264543
 [469]    2042865    2355805    2747687    3232927    3790903    4282586
 [475]    4474873    4842194    5274649    5783439    6353681    6939688
 [481]     216964     232922     249220     259864     277603     192675
 [487]     285483     341244     387838     439971     495627     551201
 [493]    1438760    1542611    1666618    1820319    2260187    2512642
 [499]    2637297    2915959    3668440    4058319    4414865    4906585
 [505]   20860941   22815614   25145372   27860297   30770372   34617799
 [511]   38111756   42999530   52088559   59861301   67946797   76511887
 [517]    4090500    4324000    4491443    4605744    4639657    4738902
 [523]    4826933    4931729    5041039    5134406    5193039    5238460
 [529]   42459667   44310863   47124000   49569000   51732000   53165019
 [535]   54433565   55630100   57374179   58623428   59925035   61083916
 [541]     420702     434904     455661     489004     537977     706367
 [547]     753874     880397     985739    1126189    1299304    1454867
 [553]     284320     323150     374020     439593     517101     608274
 [559]     715523     848406    1025384    1235767    1457766    1688359
 [565]   69145952   71019069   73739117   76368453   78717088   78160773
 [571]   78335266   77718298   80597764   82011073   82350671   82400996
 [577]    5581001    6391288    7355248    8490213    9354120   10538093
 [583]   11400338   14168101   16278738   18418288   20550751   22873338
 [589]    7733250    8096218    8448233    8716441    8888628    9308479
 [595]    9786480    9974490   10325429   10502372   10603863   10706290
 [601]    3146381    3640876    4208858    4690773    5149581    5703430
 [607]    6395630    7326406    8486949    9803875   11178650   12572928
 [613]    2664249    2876726    3140003    3451418    3811387    4227026
 [619]    4710497    5650262    6990574    8048834    8807818    9947814
 [625]     580653     601095     627820     601287     625361     745228
 [631]     825987     927524    1050938    1193708    1332459    1472041
 [637]    3201488    3507701    3880130    4318137    4698301    4908554
 [643]    5198399    5756203    6326682    6913545    7607651    8502814
 [649]    1517453    1770390    2090162    2500689    2965146    3055235
 [655]    3669448    4372203    5077347    5867957    6677328    7483763
 [661]    2125900    2736300    3305200    3722800    4115700    4583700
 [667]    5264500    5584510    5829696    6495918    6762476    6980412
 [673]    9504000    9839000   10063000   10223422   10394091   10637171
 [679]   10705535   10612740   10348684   10244684   10083313    9956108
 [685]     147962     165110     182053     198676     209275     221823
 [691]     233997     244676     259012     271192     288030     301931
 [697]  372000000  409000000  454000000  506000000  567000000  634000000
 [703]  708000000  788000000  872000000  959000000 1034172547 1110396331
 [709]   82052000   90124000   99028000  109343000  121282000  136725000
 [715]  153343000  169276000  184816000  199278000  211060000  223547000
 [721]   17272000   19792000   22874000   26538000   30614000   35480679
 [727]   43072751   51889696   60397973   63327987   66907826   69453570
 [733]    5441766    6248643    7240260    8519282   10061506   11882916
 [739]   14173318   16543189   17861905   20775703   24001816   27499638
 [745]    2952156    2878220    2830000    2900100    3024400    3271900
 [751]    3480000    3539900    3557761    3667233    3879155    4109086
 [757]    1620914    1944401    2310904    2693585    3095893    3495918
 [763]    3858421    4203148    4936550    5531387    6029529    6426679
 [769]   47666000   49182000   50843200   52667100   54365564   56059245
 [775]   56535636   56729703   56840847   57479469   57926999   58147733
 [781]    1426095    1535090    1665128    1861096    1997616    2156814
 [787]    2298309    2326606    2378618    2531311    2664659    2780132
 [793]   86459025   91563009   95831757  100825279  107188273  113872473
 [799]  118454974  122091325  124329269  125956499  127065841  127467972
 [805]     607914     746559     933559    1255058    1613551    1937652
 [811]    2347031    2820042    3867409    4526235    5307470    6053193
 [817]    6464046    7454779    8678557   10191512   12044785   14500404
 [823]   17661452   21198082   25020539   28263827   31386842   35610177
 [829]    8865488    9411381   10917494   12617009   14781241   16325320
 [835]   17647518   19067554   20711375   21585105   22215365   23301725
 [841]   20947571   22611552   26420307   30131000   33505000   36436000
 [847]   39326000   41622000   43805450   46173816   47969150   49044790
 [853]     160000     212846     358266     575003     841934    1140357
 [859]    1497494    1891487    1418095    1765345    2111561    2505559
 [865]    1439529    1647412    1886848    2186894    2680018    3115787
 [871]    3086876    3089353    3219994    3430388    3677780    3921278
 [877]     748747     813338     893143     996380    1116779    1251524
 [883]    1411807    1599200    1803195    1982823    2046772    2012649
 [889]     863308     975950    1112796    1279406    1482628    1703617
 [895]    1956875    2269414    1912974    2200725    2814651    3193942
 [901]    1019729    1201578    1441863    1759224    2183877    2721783
 [907]    3344074    3799845    4364501    4759670    5368585    6036914
 [913]    4762912    5181679    5703324    6334556    7082430    8007166
 [919]    9171477   10568642   12210395   14165114   16473477   19167654
 [925]    2917802    3221238    3628608    4147252    4730997    5637246
 [931]    6502825    7824747   10014249   10419991   11824495   13327079
 [937]    6748378    7739235    8906385   10154878   11441462   12845381
 [943]   14441916   16331785   18319502   20476091   22662365   24821286
 [949]    3838168    4241884    4690372    5212416    5828158    6491649
 [955]    6998256    7634008    8416215    9384984   10580176   12031795
 [961]    1022556    1076852    1146757    1230542    1332786    1456688
 [967]    1622136    1841240    2119465    2444741    2828858    3270065
 [973]     516556     609816     701016     789309     851334     913025
 [979]     992040    1042663    1096202    1149818    1200206    1250882
 [985]   30144317   35015548   41121485   47995559   55984294   63759976
 [991]   71640904   80122492   88111030   95895146  102479927  108700891
 [997]     800663     882134    1010280    1149500    1320500    1528000
[1003]    1756032    2015133    2312802    2494803    2674234    2874127
[1009]     413834     442829     474528     501035     527678     560073
[1015]     562548     569473     621621     692651     720230     684736
[1021]    9939217   11406350   13056604   14770296   16660670   18396941
[1027]   20198730   22987397   25798239   28529501   31167783   33757175
[1033]    6446316    7038035    7788944    8680909    9809596   11127868
[1039]   12587223   12891952   13160731   16603334   18473780   19951656
[1045]   20092996   21731844   23634436   25870271   28466390   31528087
[1051]   34680442   38028578   40546538   43247867   45598081   47761980
[1057]     485831     548080     621392     706640     821782     977026
[1063]    1099010    1278184    1554253    1774766    1972153    2055080
[1069]    9182536    9682338   10332057   11261690   12412593   13933198
[1075]   15796314   17917180   20326209   23001113   25873917   28901790
[1081]   10381988   11026383   11805689   12596822   13329874   13852989
[1087]   14310401   14665278   15174244   15604464   16122830   16570613
[1093]    1994794    2229407    2488550    2728150    2929100    3164900
[1099]    3210650    3317166    3437674    3676187    3908037    4115771
[1105]    1165790    1358828    1590597    1865490    2182908    2554598
[1111]    2979423    3344353    4017939    4609572    5146848    5675356
[1117]    3379468    3692184    4076008    4534062    5060262    5682086
[1123]    6437188    7332638    8392818    9666252   11140655   12894865
[1129]   33119096   37173340   41871351   47287752   53740085   62209173
[1135]   73039376   81551520   93364244  106207839  119901274  135031164
[1141]    3327728    3491938    3638919    3786019    3933004    4043205
[1147]    4114787    4186147    4286357    4405672    4535591    4627926
[1153]     507833     561977     628164     714775     829050    1004533
[1159]    1301048    1593882    1915208    2283635    2713462    3204897
[1165]   41346560   46679944   53100671   60641899   69325921   78152686
[1171]   91462088  105186881  120065004  135564834  153403524  169270617
[1177]     940080    1063506    1215725    1405486    1616384    1839782
[1183]    2036305    2253639    2484997    2734531    2990875    3242173
[1189]    1555876    1770902    2009813    2287985    2614104    2984494
[1195]    3366439    3886512    4483945    5154123    5884491    6667147
[1201]    8025700    9146100   10516500   12132200   13954700   15990099
[1207]   18125129   20195924   22430449   24748122   26769436   28674757
[1213]   22438691   26072194   30325264   35356600   40850141   46850962
[1219]   53456774   60017788   67185766   75012988   82995088   91077287
[1225]   25730551   28235346   30329617   31785378   33039545   34621254
[1231]   36227381   37740710   38370697   38654957   38625976   38518241
[1237]    8526050    8817650    9019800    9103000    8970450    9662600
[1243]    9859650    9915289    9927680   10156415   10433867   10642836
[1249]    2227000    2260000    2448046    2648961    2847132    3080828
[1255]    3279001    3444468    3585176    3759430    3859606    3942491
[1261]     257700     308700     358900     414024     461633     492095
[1267]     517810     562035     622191     684810     743981     798094
[1273]   16630000   17829327   18680721   19284814   20662648   21658597
[1279]   22356726   22686371   22797027   22562458   22404337   22276056
[1285]    2534927    2822082    3051242    3451079    3992121    4657072
[1291]    5507565    6349365    7290203    7212583    7852401    8860588
[1297]      60011      61325      65345      70787      76595      86796
[1303]      98593     110812     125911     145608     170372     199579
[1309]    4005677    4419650    4943029    5618198    6472756    8128505
[1315]   11254672   14619745   16945857   21229759   24501530   27601038
[1321]    2755589    3054547    3430243    3965841    4588696    5260855
[1327]    6147783    7171347    8307920    9535314   10870037   12267493
[1333]    6860147    7271135    7616060    7971222    8313288    8686367
[1339]    9032824    9230783    9826397   10336594   10111559   10150265
[1345]    2143249    2295678    2467895    2662190    2879013    3140897
[1351]    3464522    3868905    4260884    4578212    5359092    6144562
[1357]    1127000    1445929    1750200    1977600    2152400    2325300
[1363]    2651869    2794552    3235865    3802309    4197776    4553009
[1369]    3558137    3844277    4237384    4442238    4593433    4827803
[1375]    5048043    5199318    5302888    5383010    5410052    5447502
[1381]    1489518    1533070    1582962    1646912    1694510    1746919
[1387]    1861252    1945870    1999210    2011612    2011497    2009245
[1393]    2526994    2780415    3080153    3428839    3840161    4353666
[1399]    5828892    6921858    6099799    6633514    7753310    9118773
[1405]   14264935   16151549   18356657   20997321   23935810   27129932
[1411]   31140029   35933379   39964159   42835005   44433622   43997828
[1417]   28549870   29841614   31158061   32850275   34513161   36439000
[1423]   37983310   38880702   39549438   39855442   40152517   40448191
[1429]    7982342    9128546   10421936   11737396   13016733   14116836
[1435]   15410151   16495304   17587060   18698655   19576783   20378239
[1441]    8504667    9753392   11183227   12716129   14597019   17104986
[1447]   20367053   24725960   28227588   32160729   37090298   42292929
[1453]     290243     326741     370006     420690     480105     551425
[1459]     649901     779348     962344    1054486    1130269    1133066
[1465]    7124673    7363802    7561588    7867931    8122293    8251648
[1471]    8325260    8421403    8718867    8897619    8954175    9031088
[1477]    4815000    5126000    5666000    6063000    6401400    6316424
[1483]    6468126    6649942    6995447    7193761    7361757    7554661
[1489]    3661549    4149908    4834621    5680812    6701172    7932503
[1495]    9410494   11242847   13219062   15081016   17155814   19314747
[1501]    8550362   10164215   11918938   13648692   15226039   16785196
[1507]   18501390   19757799   20686918   21628605   22454239   23174294
[1513]    8322925    9452826   10863958   12607312   14706593   17129565
[1519]   19844382   23040630   26605473   30686889   34593779   38139640
[1525]   21289402   25041917   29263397   34024249   39276153   44148285
[1531]   48827160   52910342   56667095   60216677   62806748   65068149
[1537]    1219113    1357445    1528098    1735550    2056351    2308582
[1543]    2644765    3154264    3747553    4320890    4977378    5701579
[1549]     662850     764900     887498     960155     975199    1039009
[1555]    1116479    1191336    1183669    1138101    1101832    1056608
[1561]    3647735    3950849    4286552    4786986    5303507    6005061
[1567]    6734098    7724976    8523077    9231669    9770575   10276158
[1573]   22235677   25670939   29788695   33411317   37492953   42404033
[1579]   47328791   52881328   58179144   63047647   67308928   71158647
[1585]    5824797    6675501    7688797    8900294   10190285   11457758
[1591]   12939400   15283050   18252190   21210254   24739869   29170398
[1597]   50430000   51430000   53292000   54959000   56079000   56179000
[1603]   56339704   56981620   57866349   58808266   59912431   60776238
[1609]  157553000  171984000  186538000  198712000  209896000  220239000
[1615]  232187835  242803533  256894189  272911760  287675526  301139947
[1621]    2252965    2424959    2598466    2748579    2829526    2873520
[1627]    2953997    3045153    3149262    3262838    3363085    3447496
[1633]    5439568    6702668    8143375    9709552   11515649   13503563
[1639]   15620766   17910182   20265563   22374398   24287670   26084662
[1645]   26246839   28998543   33796140   39463910   44655014   50533506
[1651]   56142181   62826491   69940728   76048996   80908147   85262356
[1657]    1030585    1070439    1133134    1142636    1089572    1261091
[1663]    1425876    1691210    2104779    2826046    3389578    4018332
[1669]    4963829    5498090    6120081    6740785    7407075    8403990
[1675]    9657618   11219340   13367997   15826497   18701257   22211743
[1681]    2672000    3016000    3421000    3900000    4506497    5216550
[1687]    6100407    7272406    8381163    9417789   10595811   11746035
[1693]    3080907    3646340    4277736    4995432    5861135    6642107
[1699]    7636524    9216418   10704340   11404948   11926563   12311143
~~~
{: .output}

5. You can use the `c` function, and the `:` operator just like with a single column


~~~
gapminder[1:3,]
~~~
{: .r}



~~~
      country year      pop continent lifeExp gdpPercap
1 Afghanistan 1952  8425333      Asia  28.801  779.4453
2 Afghanistan 1957  9240934      Asia  30.332  820.8530
3 Afghanistan 1962 10267083      Asia  31.997  853.1007
~~~
{: .output}

> ## Tip: Getting help for operators
>
> Remember you can search for help on operators by wrapping them in quotes:
> `help(":")` or `?":"`.
>
{: .callout}

> ## Challenge 8
>
> 1. Why does `gapminder[1:20]` return an error? How does it differ from `gapminder[1:20, ]`?
>
>
> 2. Create a new `data.frame` called `gapminder_small` that only contains rows 1 through 9
> and 19 through 23. You can do this in one or two steps.
>
> > ## Solution to challenge 8
> >
> > 1.  `gapminder` is a data.frame so needs to be subsetted on two dimensions. `gapminder[1:20, ]` subsets the data to give the first 20 rows and all columns.
> >
> > 2. 
> >
> > 
> > ~~~
> > gapminder_small <- gapminder[c(1:9, 19:23),]
> > ~~~
> > {: .r}
> {: .solution}
{: .challenge}

## Subsetting by name

We can extract elements by using their name, instead of index.

This is usually a much more reliable way to subset objects: the
position of various elements can often change when chaining together
subsetting operations, but the names will always remain the same!

`[[` will act to extract *a single column*:


~~~
head(gapminder[["lifeExp"]])
~~~
{: .r}



~~~
[1] 28.801 30.332 31.997 34.020 36.088 38.438
~~~
{: .output}

And `$` provides a convenient shorthand to extract columns by name:


~~~
head(gapminder$year)
~~~
{: .r}



~~~
[1] 1952 1957 1962 1967 1972 1977
~~~
{: .output}



## Subsetting through other logical operations

We can also more simply subset through logical operations:


~~~
x[c(TRUE, TRUE, FALSE, FALSE)]
~~~
{: .r}



~~~
  [1] 28.80100 30.33200 36.08800 38.43800 41.67400 41.76300 55.23000
  [8] 59.28000 67.69000 68.93000 71.58100 72.95000 43.07700 45.68500
 [15] 54.51800 58.01400 67.74400 69.15200 30.01500 31.99900 37.92800
 [22] 39.48300 40.64700 40.96300 62.48500 64.39900 67.06500 68.48100
 [29] 71.86800 73.27500 69.12000 70.33000 71.93000 73.49000 77.56000
 [36] 78.83000 66.80000 67.48000 70.63000 72.17000 76.04000 77.51000
 [43] 50.93900 53.83200 63.30000 65.59300 72.60100 73.92500 37.48400
 [50] 39.34800 45.25200 46.92300 56.01800 59.41200 68.00000 69.24000
 [57] 71.44000 72.80000 76.46000 77.53000 38.22300 40.35800 47.01400
 [64] 49.19000 53.91900 54.77700 40.41400 41.89000 46.71400 50.02300
 [71] 59.95700 62.05000 53.82000 58.45000 67.45000 69.86000 72.17800
 [78] 73.24400 47.62200 49.61800 56.02400 59.31900 62.74500 52.55600
 [85] 50.91700 53.28500 59.50400 61.48900 67.05700 69.38800 59.60000
 [92] 66.61000 70.90000 70.81000 71.19000 70.32000 31.97500 34.90600
 [99] 43.59100 46.13700 50.26000 50.32400 39.03100 40.53300 44.05700
[106] 45.91000 44.73600 45.32600 39.41700 41.36600 40.31700 31.22000
[113] 55.80300 56.53400 38.52300 40.42800 47.04900 49.35500 54.31400
[120] 52.19900 68.75000 69.96000 72.88000 74.21000 77.95000 78.61000
[127] 35.46300 37.46400 43.45700 46.77500 49.39600 46.06600 38.09200
[134] 39.88100 45.56900 47.38300 51.72400 51.57300 54.74500 56.07400
[141] 63.44100 67.05200 74.12600 75.81600 44.00000 50.54896 63.11888
[148] 63.96736 68.69000 70.42600 50.64300 55.11800 61.62300 63.83700
[155] 68.42100 70.31300 40.71500 42.46000 48.94400 50.93900 57.93900
[162] 60.66000 39.14300 40.65200 45.98900 47.80400 45.54800 42.58700
[169] 42.11100 45.05300 54.90700 55.62500 56.43300 52.96200 57.20600
[176] 60.02600 67.84900 70.75000 75.71300 77.26000 40.47700 42.46900
[183] 49.80100 52.37400 52.04400 47.99100 61.21000 64.77000 69.61000
[190] 70.64000 72.52700 73.68000 59.42100 62.32500 70.72300 72.64900
[197] 74.41400 76.15100 66.87000 69.03000 70.29000 70.71000 72.40000
[204] 74.01000 70.78000 71.81000 73.47000 74.69000 75.33000 76.11000
[211] 34.81200 37.32800 44.36600 46.51900 51.60400 53.15700 45.92800
[218] 49.82800 59.63100 61.78800 68.45700 69.95700 48.35700 51.35600
[225] 58.79600 61.31000 69.61300 72.31200 41.89300 44.44400 51.13700
[232] 53.31900 63.67400 67.21700 45.26200 48.57000 58.20700 56.69600
[239] 66.79800 69.53500 34.48200 35.98300 40.51600 42.02400 47.54500
[246] 48.24500 35.92800 38.04700 44.14200 44.53500 49.99100 53.37800
[253] 34.07800 36.66700 43.51500 44.51000 48.09100 49.40200 66.55000
[260] 67.49000 70.87000 72.52000 75.70000 77.13000 67.41000 68.93000
[267] 72.38000 73.83000 77.46000 78.64000 37.00300 38.99900 48.69000
[274] 52.79000 61.36600 60.46100 30.00000 32.06500 38.30800 41.84200
[281] 52.64400 55.86100 67.50000 69.10000 71.00000 72.50000 76.07000
[288] 77.34000 43.14900 44.77900 49.87500 51.75600 57.50100 58.55600
[295] 65.86000 67.86000 72.34000 73.68000 77.03000 77.86900 42.02300
[302] 44.14200 53.73800 56.02900 63.37300 66.32200 33.60900 34.55800
[309] 38.84200 40.76200 48.57600 51.45500 32.50000 33.48900 36.48600
[316] 37.46500 43.26600 44.87300 37.57900 40.69600 48.04200 49.92300
[323] 55.08900 56.67100 41.91200 44.66500 53.88400 57.40200 66.39900
[330] 67.65900 60.96000 64.75000 72.00000 73.60000 77.60100 80.00000
[337] 64.03000 66.41000 69.76000 69.95000 69.17000 71.04000 72.49000
[344] 73.47000 74.46000 76.11000 78.77000 78.95000 37.37300 40.24900
[351] 50.65100 54.20800 60.22300 61.76500 37.46800 39.91800 49.20300
[358] 52.70200 62.68100 66.04100 44.86900 47.18100 55.23400 57.70200
[365] 65.74200 68.04200 45.32000 48.43700 56.95000 60.41300 59.46100
[372] 58.81100 66.91000 68.90000 71.28000 72.03000 75.46700 76.12200
[379] 65.39000 67.84000 71.63000 73.06000 76.93000 78.26900 65.94000
[386] 67.81000 72.19000 73.48000 77.44000 78.82000 58.53000 62.61000
[393] 69.00000 70.11000 71.76600 72.26200 63.03000 65.50000 73.42000
[400] 75.38000 79.36000 80.69000 43.15800 45.66900 56.52800 61.13400
[407] 68.01500 69.77200 42.27000 44.68600 53.55900 56.15500 59.28500
[414] 54.40700 50.05600 54.08100 63.98300 67.15900 69.97800 67.72700
[421] 47.45300 52.68100 62.61200 64.76600 72.24400 74.64700 55.56500
[428] 58.03300 67.71200 69.34300 75.19000 76.15600 55.92800 59.48900
[435] 65.42100 66.09900 69.29200 70.26500 42.13800 45.04700 49.76700
[442] 52.20800 59.68500 55.55800 38.48000 39.48600 42.61400 43.76400
[449] 40.80200 42.22100 42.72300 45.28900 52.77300 57.44200 68.75500
[456] 71.55500 36.68100 38.86500 44.85100 46.88100 52.21400 54.97800
[463] 36.25600 37.20700 41.76600 43.76700 49.42000 47.49500 48.46300
[470] 52.10200 63.01000 65.25600 70.69300 71.93800 33.68500 35.30700
[477] 39.97700 41.71400 48.38800 49.90300 40.54300 42.33800 48.43700
[484] 50.85200 58.33300 60.43000 50.98600 58.08900 62.94400 64.93000
[491] 69.74500 70.73600 50.78900 55.19000 62.36100 65.03200 71.45500
[498] 73.67000 42.24400 45.24800 53.75400 55.49100 61.27100 63.62500
[505] 59.16400 61.44800 70.63600 73.06600 75.43500 75.44500 42.87300
[512] 45.42300 52.86200 55.73000 65.39300 67.66000 31.28600 33.77900
[519] 40.32800 42.49500 44.28400 46.34400 36.31900 41.90500 53.07000
[526] 56.05900 59.32000 60.32800 41.72500 45.22600 53.86700 56.43700
[533] 61.99900 58.90900 36.15700 37.68600 43.97100 46.74800 55.72700
[540] 59.42600 72.13000 72.99000 73.75000 75.24000 77.42000 78.03000
[547] 69.39000 70.26000 71.89000 72.22000 76.33000 77.55000 42.31400
[554] 45.43200 55.15100 57.47000 65.84300 68.42600 37.44400 38.59800
[561] 40.54600 41.29100 47.39100 51.31300 36.32400 37.80200 42.82100
[568] 44.51400 47.47200 47.46400 72.67000 73.44000 74.34000 75.37000
[575] 77.32000 78.32000 37.57800 40.08000 52.14300 57.36700 71.19700
[582] 72.49900 43.43600 45.55700 51.92900 54.04300 60.83800 61.81800
[589] 55.19100 59.20100 66.21600 68.68100 72.46200 73.73800 62.64900
[596] 63.19600 65.81500 66.35300 68.22500 69.40000 43.90200 46.26300
[603] 55.44800 58.44700 66.45800 68.38600 47.75200 51.33400 58.06500
[610] 60.06000 66.45800 68.56400 61.31000 65.77000 70.85000 70.67000
[617] 70.99000 72.75000 59.82000 61.51000 69.26000 70.41000 74.86000
[624] 75.97000 64.28000 68.54000 72.16000 73.44000 73.91100 74.91700
[631] 52.72400 55.09000 64.27400 67.06400 73.61500 74.77200 61.05000
[638] 64.10000 69.21000 69.46000 69.36000 69.72000 40.00000 41.50000
[645] 44.60000 45.00000 23.59900 36.08700 46.47100 48.94500 56.48000
[652] 58.55000 62.74200 63.30600 39.87500 42.86800 53.88600 58.69000
[659] 68.76800 70.53300 37.27800 39.32900 45.81500 48.87900 58.19600
[666] 60.18700 57.99600 61.68500 68.70000 70.30000 71.65900 72.23200
[673] 30.33100 31.57000 35.40000 36.78800 38.33300 39.89700 60.39600
[680] 63.17900 69.52100 70.79500 75.78800 77.15800 64.36000 67.45000
[687] 70.35000 70.45000 71.38000 72.71000 65.57000 67.85000 69.82000
[694] 70.97000 73.64000 75.13000 32.97800 34.97700 40.97300 41.97400
[701] 39.65800 43.79500 45.00900 47.98500 53.69600 55.52700 61.88800
[708] 60.23600 64.94000 66.66000 73.06000 74.39000 77.57000 78.77000
[715] 57.59300 61.45600 65.04200 65.94900 70.37900 70.45700 38.63500
[722] 39.62400 45.08300 47.80000 53.55600 55.37300 41.40700 43.42400
[729] 49.55200 52.53700 58.47400 54.28900 71.86000 72.49000 74.72000
[736] 75.44000 78.16000 79.39000 69.62000 70.56000 73.78000 75.39000
[743] 78.03000 79.37000 45.88300 48.28400 57.29600 61.19500 69.24900
[750] 71.52700 58.50000 62.40000 69.39000 70.59000 74.26000 75.25000
[757] 41.21500 42.97400 47.62000 49.91900 50.44000 48.46600 50.84800
[764] 53.63000 60.40500 62.49400 67.29800 67.52100 38.59600 41.20800
[771] 49.75900 52.88700 58.06100 58.39000 59.10000 61.80000 65.90000
[778] 68.30000 69.86200 69.46500 44.60000 47.10000 55.60200 59.83700
[785] 70.00100 71.97300 43.58500 48.07900 57.00500 59.50700 66.14600
[792] 68.83500 39.97800 42.57100 51.01600 50.35000 48.82500 44.57800
[799] 69.18000 70.42000 72.01000 72.76000 76.42000 77.21800 68.44000
[806] 69.49000 71.34000 73.38000 76.09000 76.81000 66.07100 67.04400
[813] 68.67300 69.48100 72.75200 74.22300 55.08800 57.90700 65.71200
[820] 67.45600 71.15000 72.14600 40.41200 42.88700 50.25400 55.76400
[827] 67.66200 70.67200 43.16000 45.67100 56.53200 60.76500 69.71800
[834] 71.09600 32.54800 33.97000 39.84800 44.17500 55.59900 58.02000
[841] 42.03800 44.07700 50.10700 51.38600 46.10000 40.23800 48.45100
[848] 50.46900 55.63500 57.67400 60.37700 46.80900
~~~
{: .output}

Note that in this case, the logical vector is also recycled to the
length of the vector we're subsetting!


~~~
x[c(TRUE, FALSE)]
~~~
{: .r}



~~~
  [1] 28.80100 31.99700 36.08800 39.85400 41.67400 42.12900 55.23000
  [8] 64.82000 67.69000 70.42000 71.58100 75.65100 43.07700 48.30300
 [15] 54.51800 61.36800 67.74400 70.99400 30.01500 34.00000 37.92800
 [22] 39.94200 40.64700 41.00300 62.48500 65.14200 67.06500 69.94200
 [29] 71.86800 74.34000 69.12000 70.93000 71.93000 74.74000 77.56000
 [36] 80.37000 66.80000 69.54000 70.63000 73.18000 76.04000 78.98000
 [43] 50.93900 56.92300 63.30000 69.05200 72.60100 74.79500 37.48400
 [50] 41.21600 45.25200 50.00900 56.01800 62.01300 68.00000 70.25000
 [57] 71.44000 73.93000 76.46000 78.32000 38.22300 42.61800 47.01400
 [64] 50.90400 53.91900 54.40600 40.41400 43.42800 46.71400 53.85900
 [71] 59.95700 63.88300 53.82000 61.93000 67.45000 70.69000 72.17800
 [78] 74.09000 47.62200 51.52000 56.02400 61.48400 62.74500 46.63400
 [85] 50.91700 55.66500 59.50400 63.33600 67.05700 71.00600 59.60000
 [92] 69.51000 70.90000 71.08000 71.19000 72.14000 31.97500 37.81400
 [99] 43.59100 48.12200 50.26000 50.65000 39.03100 42.04500 44.05700
[106] 47.47100 44.73600 47.36000 39.41700 43.41500 40.31700 50.95700
[113] 55.80300 56.75200 38.52300 42.64300 47.04900 52.96100 54.31400
[120] 49.85600 68.75000 71.30000 72.88000 75.76000 77.95000 79.77000
[127] 35.46300 39.47500 43.45700 48.29500 49.39600 43.30800 38.09200
[134] 41.71600 45.56900 49.51700 51.72400 50.52500 54.74500 57.92400
[141] 63.44100 70.56500 74.12600 77.86000 44.00000 44.50136 63.11888
[148] 65.52500 68.69000 72.02800 50.64300 57.86300 61.62300 66.65300
[155] 68.42100 71.68200 40.71500 44.46700 48.94400 52.93300 57.93900
[162] 62.97400 39.14300 42.12200 45.98900 47.78400 45.54800 44.96600
[169] 42.11100 48.43500 54.90700 56.69500 56.43300 52.97000 57.20600
[176] 62.84200 67.84900 73.45000 75.71300 78.12300 40.47700 44.93000
[183] 49.80100 53.98300 52.04400 46.83200 61.21000 67.13000 69.61000
[190] 70.46000 72.52700 74.87600 59.42100 65.24600 70.72300 73.71700
[197] 74.41400 77.15800 66.87000 69.90000 70.29000 70.96000 72.40000
[204] 75.51000 70.78000 72.35000 73.47000 74.63000 75.33000 77.18000
[211] 34.81200 39.69300 44.36600 48.81200 51.60400 53.37300 45.92800
[218] 53.45900 59.63100 63.72700 68.45700 70.84700 48.35700 54.64000
[225] 58.79600 64.34200 69.61300 74.17300 41.89300 46.99200 51.13700
[232] 56.00600 63.67400 69.80600 45.26200 52.30700 58.20700 56.60400
[239] 66.79800 70.73400 34.48200 37.48500 40.51600 43.66200 47.54500
[246] 49.34800 35.92800 40.15800 44.14200 43.89000 49.99100 55.24000
[253] 34.07800 40.05900 43.51500 44.91600 48.09100 50.72500 66.55000
[260] 68.75000 70.87000 74.55000 75.70000 78.37000 67.41000 70.51000
[267] 72.38000 74.89000 77.46000 79.59000 37.00300 40.48900 48.69000
[274] 56.56400 61.36600 56.76100 30.00000 33.89600 38.30800 45.58000
[281] 52.64400 58.04100 67.50000 70.30000 71.00000 73.80000 76.07000
[288] 78.67000 43.14900 46.45200 49.87500 53.74400 57.50100 58.45300
[295] 65.86000 69.51000 72.34000 75.24000 77.03000 78.25600 42.02300
[302] 46.95400 53.73800 58.13700 63.37300 68.97800 33.60900 35.75300
[309] 38.84200 42.89100 48.57600 53.67600 32.50000 34.48800 36.48600
[316] 39.32700 43.26600 45.50400 37.57900 43.59000 48.04200 51.46100
[323] 55.08900 58.13700 41.91200 48.04100 53.88400 60.90900 66.39900
[330] 68.56500 60.96000 67.65000 72.00000 75.45000 77.60100 81.49500
[337] 64.03000 67.96000 69.76000 69.39000 69.17000 72.59000 72.49000
[344] 73.68000 74.46000 76.99000 78.77000 80.50000 37.37300 43.60500
[351] 50.65100 56.59600 60.22300 62.87900 37.46800 42.51800 49.20300
[358] 56.15900 62.68100 68.58800 44.86900 49.32500 55.23400 59.62000
[365] 65.74200 69.45100 45.32000 51.45700 56.95000 62.03800 59.46100
[372] 57.04600 66.91000 70.29000 71.28000 73.10000 75.46700 77.78300
[379] 65.39000 69.39000 71.63000 74.45000 76.93000 79.69600 65.94000
[386] 69.24000 72.19000 74.98000 77.44000 80.24000 58.53000 65.61000
[393] 69.00000 71.21000 71.76600 72.04700 63.03000 68.73000 73.42000
[400] 77.11000 79.36000 82.00000 43.15800 48.12600 56.52800 63.73900
[407] 68.01500 71.26300 42.27000 47.94900 53.55900 58.76600 59.28500
[414] 50.99200 50.05600 56.65600 63.98300 69.10000 69.97800 66.66200
[421] 47.45300 55.29200 62.61200 67.12300 72.24400 77.04500 55.56500
[428] 60.47000 67.71200 71.30900 75.19000 76.90400 55.92800 62.09400
[435] 65.42100 66.98300 69.29200 71.02800 42.13800 47.74700 49.76700
[442] 55.07800 59.68500 44.59300 38.48000 40.50200 42.61400 44.85200
[449] 40.80200 43.75300 42.72300 47.80800 52.77300 62.15500 68.75500
[456] 72.73700 36.68100 40.84800 44.85100 48.96900 52.21400 57.28600
[463] 36.25600 38.41000 41.76600 45.64200 49.42000 45.00900 48.46300
[470] 55.73700 63.01000 68.00000 70.69300 73.04400 33.68500 36.93600
[477] 39.97700 43.91600 48.38800 51.81800 40.54300 44.24800 48.43700
[484] 53.59900 58.33300 62.24700 50.98600 60.24600 62.94400 66.71100
[491] 69.74500 71.95400 50.78900 58.29900 62.36100 67.40500 71.45500
[498] 74.90200 42.24400 48.25100 53.75400 57.48900 61.27100 65.03300
[505] 59.16400 63.72800 70.63600 74.10100 75.43500 73.98100 42.87300
[512] 47.92400 52.86200 59.65000 65.39300 69.61500 31.28600 36.16100
[519] 40.32800 42.79500 44.28400 44.02600 36.31900 45.10800 53.07000
[526] 58.05600 59.32000 59.90800 41.72500 48.38600 53.86700 58.96800
[533] 61.99900 51.47900 36.15700 39.39300 43.97100 49.59400 55.72700
[540] 61.34000 72.13000 73.23000 73.75000 76.05000 77.42000 78.53000
[547] 69.39000 71.24000 71.89000 73.84000 76.33000 79.11000 42.31400
[554] 48.63200 55.15100 59.29800 65.84300 70.83600 37.44400 39.48700
[561] 40.54600 42.59800 47.39100 54.49600 36.32400 39.36000 42.82100
[568] 45.82600 47.47200 46.60800 72.67000 73.47000 74.34000 75.97000
[575] 77.32000 79.05000 37.57800 43.16500 52.14300 62.72800 71.19700
[582] 74.19300 43.43600 47.67000 51.92900 56.15800 60.83800 63.61000
[589] 55.19100 61.81700 66.21600 70.47200 72.46200 74.71200 62.64900
[596] 64.36100 65.81500 66.87400 68.22500 70.75500 43.90200 49.09600
[603] 55.44800 61.40600 66.45800 69.90600 47.75200 54.75700 58.06500
[610] 62.08200 66.45800 70.30300 61.31000 67.64000 70.85000 71.32000
[617] 70.99000 74.67000 59.82000 64.39000 69.26000 72.77000 74.86000
[624] 77.29000 64.28000 69.62000 72.16000 73.75000 73.91100 77.77800
[631] 52.72400 57.66600 64.27400 69.88500 73.61500 75.74400 61.05000
[638] 66.80000 69.21000 69.66000 69.36000 71.32200 40.00000 43.00000
[645] 44.60000 46.21800 23.59900 43.41300 46.47100 51.89300 56.48000
[652] 60.35100 62.74200 64.33700 39.87500 45.91400 53.88600 63.01200
[659] 68.76800 71.62600 37.27800 41.45400 45.81500 52.37900 58.19600
[666] 61.60000 57.99600 64.53100 68.70000 70.16200 71.65900 73.21300
[673] 30.33100 32.76700 35.40000 38.44500 38.33300 41.01200 60.39600
[680] 65.79800 69.52100 71.76000 75.78800 78.77000 64.36000 70.33000
[687] 70.35000 70.80000 71.38000 73.80000 65.57000 69.15000 69.82000
[694] 71.06300 73.64000 76.66000 32.97800 36.98100 40.97300 42.95500
[701] 39.65800 45.93600 45.00900 49.95100 53.69600 58.16100 61.88800
[708] 53.36500 64.94000 69.69000 73.06000 76.30000 77.57000 79.78000
[715] 57.59300 62.19200 65.04200 68.75700 70.37900 70.81500 38.63500
[722] 40.87000 45.08300 50.33800 53.55600 56.36900 41.40700 44.99200
[729] 49.55200 55.56100 58.47400 43.86900 71.86000 73.37000 74.72000
[736] 76.42000 78.16000 80.04000 69.62000 71.32000 73.78000 76.21000
[743] 78.03000 80.62000 45.88300 50.30500 57.29600 64.59000 69.24900
[750] 73.05300 58.50000 65.20000 69.39000 72.16000 74.26000 76.99000
[757] 41.21500 44.24600 47.62000 50.60800 50.44000 49.65100 50.84800
[764] 56.06100 60.40500 64.59700 67.29800 68.56400 38.59600 43.92200
[771] 49.75900 55.47100 58.06100 57.56100 59.10000 64.90000 65.90000
[778] 68.83200 69.86200 68.97600 44.60000 49.57900 55.60200 64.04800
[785] 70.00100 73.04200 43.58500 52.09800 57.00500 61.03600 66.14600
[792] 70.84500 39.97800 45.34400 51.01600 49.84900 48.82500 47.81300
[799] 69.18000 70.76000 72.01000 74.04000 76.42000 78.47100 68.44000
[806] 70.21000 71.34000 74.65000 76.09000 77.31000 66.07100 68.25300
[813] 68.67300 70.80500 72.75200 75.30700 55.08800 60.77000 65.71200
[820] 68.55700 71.15000 72.76600 40.41200 45.36300 50.25400 58.81600
[827] 67.66200 73.01700 43.16000 48.12700 56.53200 64.40600 69.71800
[834] 72.37000 32.54800 35.18000 39.84800 49.11300 55.59900 60.30800
[841] 42.03800 46.02300 50.10700 51.82100 46.10000 39.19300 48.45100
[848] 52.35800 55.63500 60.36300 60.37700 39.98900
~~~
{: .output}

Since comparison operators evaluate to logical vectors, we can also
use them to succinctly subset vectors:


~~~
x[x > 7]
~~~
{: .r}



~~~
   [1] 28.80100 30.33200 31.99700 34.02000 36.08800 38.43800 39.85400
   [8] 40.82200 41.67400 41.76300 42.12900 43.82800 55.23000 59.28000
  [15] 64.82000 66.22000 67.69000 68.93000 70.42000 72.00000 71.58100
  [22] 72.95000 75.65100 76.42300 43.07700 45.68500 48.30300 51.40700
  [29] 54.51800 58.01400 61.36800 65.79900 67.74400 69.15200 70.99400
  [36] 72.30100 30.01500 31.99900 34.00000 35.98500 37.92800 39.48300
  [43] 39.94200 39.90600 40.64700 40.96300 41.00300 42.73100 62.48500
  [50] 64.39900 65.14200 65.63400 67.06500 68.48100 69.94200 70.77400
  [57] 71.86800 73.27500 74.34000 75.32000 69.12000 70.33000 70.93000
  [64] 71.10000 71.93000 73.49000 74.74000 76.32000 77.56000 78.83000
  [71] 80.37000 81.23500 66.80000 67.48000 69.54000 70.14000 70.63000
  [78] 72.17000 73.18000 74.94000 76.04000 77.51000 78.98000 79.82900
  [85] 50.93900 53.83200 56.92300 59.92300 63.30000 65.59300 69.05200
  [92] 70.75000 72.60100 73.92500 74.79500 75.63500 37.48400 39.34800
  [99] 41.21600 43.45300 45.25200 46.92300 50.00900 52.81900 56.01800
 [106] 59.41200 62.01300 64.06200 68.00000 69.24000 70.25000 70.94000
 [113] 71.44000 72.80000 73.93000 75.35000 76.46000 77.53000 78.32000
 [120] 79.44100 38.22300 40.35800 42.61800 44.88500 47.01400 49.19000
 [127] 50.90400 52.33700 53.91900 54.77700 54.40600 56.72800 40.41400
 [134] 41.89000 43.42800 45.03200 46.71400 50.02300 53.85900 57.25100
 [141] 59.95700 62.05000 63.88300 65.55400 53.82000 58.45000 61.93000
 [148] 64.79000 67.45000 69.86000 70.69000 71.14000 72.17800 73.24400
 [155] 74.09000 74.85200 47.62200 49.61800 51.52000 53.29800 56.02400
 [162] 59.31900 61.48400 63.62200 62.74500 52.55600 46.63400 50.72800
 [169] 50.91700 53.28500 55.66500 57.63200 59.50400 61.48900 63.33600
 [176] 65.20500 67.05700 69.38800 71.00600 72.39000 59.60000 66.61000
 [183] 69.51000 70.42000 70.90000 70.81000 71.08000 71.34000 71.19000
 [190] 70.32000 72.14000 73.00500 31.97500 34.90600 37.81400 40.69700
 [197] 43.59100 46.13700 48.12200 49.55700 50.26000 50.32400 50.65000
 [204] 52.29500 39.03100 40.53300 42.04500 43.54800 44.05700 45.91000
 [211] 47.47100 48.21100 44.73600 45.32600 47.36000 49.58000 39.41700
 [218] 41.36600 43.41500 45.41500 40.31700 31.22000 50.95700 53.91400
 [225] 55.80300 56.53400 56.75200 59.72300 38.52300 40.42800 42.64300
 [232] 44.79900 47.04900 49.35500 52.96100 54.98500 54.31400 52.19900
 [239] 49.85600 50.43000 68.75000 69.96000 71.30000 72.13000 72.88000
 [246] 74.21000 75.76000 76.86000 77.95000 78.61000 79.77000 80.65300
 [253] 35.46300 37.46400 39.47500 41.47800 43.45700 46.77500 48.29500
 [260] 50.48500 49.39600 46.06600 43.30800 44.74100 38.09200 39.88100
 [267] 41.71600 43.60100 45.56900 47.38300 49.51700 51.05100 51.72400
 [274] 51.57300 50.52500 50.65100 54.74500 56.07400 57.92400 60.52300
 [281] 63.44100 67.05200 70.56500 72.49200 74.12600 75.81600 77.86000
 [288] 78.55300 44.00000 50.54896 44.50136 58.38112 63.11888 63.96736
 [295] 65.52500 67.27400 68.69000 70.42600 72.02800 72.96100 50.64300
 [302] 55.11800 57.86300 59.96300 61.62300 63.83700 66.65300 67.76800
 [309] 68.42100 70.31300 71.68200 72.88900 40.71500 42.46000 44.46700
 [316] 46.47200 48.94400 50.93900 52.93300 54.92600 57.93900 60.66000
 [323] 62.97400 65.15200 39.14300 40.65200 42.12200 44.05600 45.98900
 [330] 47.80400 47.78400 47.41200 45.54800 42.58700 44.96600 46.46200
 [337] 42.11100 45.05300 48.43500 52.04000 54.90700 55.62500 56.69500
 [344] 57.47000 56.43300 52.96200 52.97000 55.32200 57.20600 60.02600
 [351] 62.84200 65.42400 67.84900 70.75000 73.45000 74.75200 75.71300
 [358] 77.26000 78.12300 78.78200 40.47700 42.46900 44.93000 47.35000
 [365] 49.80100 52.37400 53.98300 54.65500 52.04400 47.99100 46.83200
 [372] 48.32800 61.21000 64.77000 67.13000 68.50000 69.61000 70.64000
 [379] 70.46000 71.52000 72.52700 73.68000 74.87600 75.74800 59.42100
 [386] 62.32500 65.24600 68.29000 70.72300 72.64900 73.71700 74.17400
 [393] 74.41400 76.15100 77.15800 78.27300 66.87000 69.03000 69.90000
 [400] 70.38000 70.29000 70.71000 70.96000 71.58000 72.40000 74.01000
 [407] 75.51000 76.48600 70.78000 71.81000 72.35000 72.96000 73.47000
 [414] 74.69000 74.63000 74.80000 75.33000 76.11000 77.18000 78.33200
 [421] 34.81200 37.32800 39.69300 42.07400 44.36600 46.51900 48.81200
 [428] 50.04000 51.60400 53.15700 53.37300 54.79100 45.92800 49.82800
 [435] 53.45900 56.75100 59.63100 61.78800 63.72700 66.04600 68.45700
 [442] 69.95700 70.84700 72.23500 48.35700 51.35600 54.64000 56.67800
 [449] 58.79600 61.31000 64.34200 67.23100 69.61300 72.31200 74.17300
 [456] 74.99400 41.89300 44.44400 46.99200 49.29300 51.13700 53.31900
 [463] 56.00600 59.79700 63.67400 67.21700 69.80600 71.33800 45.26200
 [470] 48.57000 52.30700 55.85500 58.20700 56.69600 56.60400 63.15400
 [477] 66.79800 69.53500 70.73400 71.87800 34.48200 35.98300 37.48500
 [484] 38.98700 40.51600 42.02400 43.66200 45.66400 47.54500 48.24500
 [491] 49.34800 51.57900 35.92800 38.04700 40.15800 42.18900 44.14200
 [498] 44.53500 43.89000 46.45300 49.99100 53.37800 55.24000 58.04000
 [505] 34.07800 36.66700 40.05900 42.11500 43.51500 44.51000 44.91600
 [512] 46.68400 48.09100 49.40200 50.72500 52.94700 66.55000 67.49000
 [519] 68.75000 69.83000 70.87000 72.52000 74.55000 74.83000 75.70000
 [526] 77.13000 78.37000 79.31300 67.41000 68.93000 70.51000 71.55000
 [533] 72.38000 73.83000 74.89000 76.34000 77.46000 78.64000 79.59000
 [540] 80.65700 37.00300 38.99900 40.48900 44.59800 48.69000 52.79000
 [547] 56.56400 60.19000 61.36600 60.46100 56.76100 56.73500 30.00000
 [554] 32.06500 33.89600 35.85700 38.30800 41.84200 45.58000 49.26500
 [561] 52.64400 55.86100 58.04100 59.44800 67.50000 69.10000 70.30000
 [568] 70.80000 71.00000 72.50000 73.80000 74.84700 76.07000 77.34000
 [575] 78.67000 79.40600 43.14900 44.77900 46.45200 48.07200 49.87500
 [582] 51.75600 53.74400 55.72900 57.50100 58.55600 58.45300 60.02200
 [589] 65.86000 67.86000 69.51000 71.00000 72.34000 73.68000 75.24000
 [596] 76.67000 77.03000 77.86900 78.25600 79.48300 42.02300 44.14200
 [603] 46.95400 50.01600 53.73800 56.02900 58.13700 60.78200 63.37300
 [610] 66.32200 68.97800 70.25900 33.60900 34.55800 35.75300 37.19700
 [617] 38.84200 40.76200 42.89100 45.55200 48.57600 51.45500 53.67600
 [624] 56.00700 32.50000 33.48900 34.48800 35.49200 36.48600 37.46500
 [631] 39.32700 41.24500 43.26600 44.87300 45.50400 46.38800 37.57900
 [638] 40.69600 43.59000 46.24300 48.04200 49.92300 51.46100 53.63600
 [645] 55.08900 56.67100 58.13700 60.91600 41.91200 44.66500 48.04100
 [652] 50.92400 53.88400 57.40200 60.90900 64.49200 66.39900 67.65900
 [659] 68.56500 70.19800 60.96000 64.75000 67.65000 70.00000 72.00000
 [666] 73.60000 75.45000 76.20000 77.60100 80.00000 81.49500 82.20800
 [673] 64.03000 66.41000 67.96000 69.50000 69.76000 69.95000 69.39000
 [680] 69.58000 69.17000 71.04000 72.59000 73.33800 72.49000 73.47000
 [687] 73.68000 73.73000 74.46000 76.11000 76.99000 77.23000 78.77000
 [694] 78.95000 80.50000 81.75700 37.37300 40.24900 43.60500 47.19300
 [701] 50.65100 54.20800 56.59600 58.55300 60.22300 61.76500 62.87900
 [708] 64.69800 37.46800 39.91800 42.51800 45.96400 49.20300 52.70200
 [715] 56.15900 60.13700 62.68100 66.04100 68.58800 70.65000 44.86900
 [722] 47.18100 49.32500 52.46900 55.23400 57.70200 59.62000 63.04000
 [729] 65.74200 68.04200 69.45100 70.96400 45.32000 48.43700 51.45700
 [736] 54.45900 56.95000 60.41300 62.03800 65.04400 59.46100 58.81100
 [743] 57.04600 59.54500 66.91000 68.90000 70.29000 71.08000 71.28000
 [750] 72.03000 73.10000 74.36000 75.46700 76.12200 77.78300 78.88500
 [757] 65.39000 67.84000 69.39000 70.75000 71.63000 73.06000 74.45000
 [764] 75.60000 76.93000 78.26900 79.69600 80.74500 65.94000 67.81000
 [771] 69.24000 71.06000 72.19000 73.48000 74.98000 76.42000 77.44000
 [778] 78.82000 80.24000 80.54600 58.53000 62.61000 65.61000 67.51000
 [785] 69.00000 70.11000 71.21000 71.77000 71.76600 72.26200 72.04700
 [792] 72.56700 63.03000 65.50000 68.73000 71.43000 73.42000 75.38000
 [799] 77.11000 78.67000 79.36000 80.69000 82.00000 82.60300 43.15800
 [806] 45.66900 48.12600 51.62900 56.52800 61.13400 63.73900 65.86900
 [813] 68.01500 69.77200 71.26300 72.53500 42.27000 44.68600 47.94900
 [820] 50.65400 53.55900 56.15500 58.76600 59.33900 59.28500 54.40700
 [827] 50.99200 54.11000 50.05600 54.08100 56.65600 59.94200 63.98300
 [834] 67.15900 69.10000 70.64700 69.97800 67.72700 66.66200 67.29700
 [841] 47.45300 52.68100 55.29200 57.71600 62.61200 64.76600 67.12300
 [848] 69.81000 72.24400 74.64700 77.04500 78.62300 55.56500 58.03300
 [855] 60.47000 64.62400 67.71200 69.34300 71.30900 74.17400 75.19000
 [862] 76.15600 76.90400 77.58800 55.92800 59.48900 62.09400 63.87000
 [869] 65.42100 66.09900 66.98300 67.92600 69.29200 70.26500 71.02800
 [876] 71.99300 42.13800 45.04700 47.74700 48.49200 49.76700 52.20800
 [883] 55.07800 57.18000 59.68500 55.55800 44.59300 42.59200 38.48000
 [890] 39.48600 40.50200 41.53600 42.61400 43.76400 44.85200 46.02700
 [897] 40.80200 42.22100 43.75300 45.67800 42.72300 45.28900 47.80800
 [904] 50.22700 52.77300 57.44200 62.15500 66.23400 68.75500 71.55500
 [911] 72.73700 73.95200 36.68100 38.86500 40.84800 42.88100 44.85100
 [918] 46.88100 48.96900 49.35000 52.21400 54.97800 57.28600 59.44300
 [925] 36.25600 37.20700 38.41000 39.48700 41.76600 43.76700 45.64200
 [932] 47.45700 49.42000 47.49500 45.00900 48.30300 48.46300 52.10200
 [939] 55.73700 59.37100 63.01000 65.25600 68.00000 69.50000 70.69300
 [946] 71.93800 73.04400 74.24100 33.68500 35.30700 36.93600 38.48700
 [953] 39.97700 41.71400 43.91600 46.36400 48.38800 49.90300 51.81800
 [960] 54.46700 40.54300 42.33800 44.24800 46.28900 48.43700 50.85200
 [967] 53.59900 56.14500 58.33300 60.43000 62.24700 64.16400 50.98600
 [974] 58.08900 60.24600 61.55700 62.94400 64.93000 66.71100 68.74000
 [981] 69.74500 70.73600 71.95400 72.80100 50.78900 55.19000 58.29900
 [988] 60.11000 62.36100 65.03200 67.40500 69.49800 71.45500 73.67000
 [995] 74.90200 76.19500 42.24400 45.24800 48.25100 51.25300 53.75400
[1002] 55.49100 57.48900 60.22200 61.27100 63.62500 65.03300 66.80300
[1009] 59.16400 61.44800 63.72800 67.17800 70.63600 73.06600 74.10100
[1016] 74.86500 75.43500 75.44500 73.98100 74.54300 42.87300 45.42300
[1023] 47.92400 50.33500 52.86200 55.73000 59.65000 62.67700 65.39300
[1030] 67.66000 69.61500 71.16400 31.28600 33.77900 36.16100 38.11300
[1037] 40.32800 42.49500 42.79500 42.86100 44.28400 46.34400 44.02600
[1044] 42.08200 36.31900 41.90500 45.10800 49.37900 53.07000 56.05900
[1051] 58.05600 58.33900 59.32000 60.32800 59.90800 62.06900 41.72500
[1058] 45.22600 48.38600 51.15900 53.86700 56.43700 58.96800 60.83500
[1065] 61.99900 58.90900 51.47900 52.90600 36.15700 37.68600 39.39300
[1072] 41.47200 43.97100 46.74800 49.59400 52.53700 55.72700 59.42600
[1079] 61.34000 63.78500 72.13000 72.99000 73.23000 73.82000 73.75000
[1086] 75.24000 76.05000 76.83000 77.42000 78.03000 78.53000 79.76200
[1093] 69.39000 70.26000 71.24000 71.52000 71.89000 72.22000 73.84000
[1100] 74.32000 76.33000 77.55000 79.11000 80.20400 42.31400 45.43200
[1107] 48.63200 51.88400 55.15100 57.47000 59.29800 62.00800 65.84300
[1114] 68.42600 70.83600 72.89900 37.44400 38.59800 39.48700 40.11800
[1121] 40.54600 41.29100 42.59800 44.55500 47.39100 51.31300 54.49600
[1128] 56.86700 36.32400 37.80200 39.36000 41.04000 42.82100 44.51400
[1135] 45.82600 46.88600 47.47200 47.46400 46.60800 46.85900 72.67000
[1142] 73.44000 73.47000 74.08000 74.34000 75.37000 75.97000 75.89000
[1149] 77.32000 78.32000 79.05000 80.19600 37.57800 40.08000 43.16500
[1156] 46.98800 52.14300 57.36700 62.72800 67.73400 71.19700 72.49900
[1163] 74.19300 75.64000 43.43600 45.55700 47.67000 49.80000 51.92900
[1170] 54.04300 56.15800 58.24500 60.83800 61.81800 63.61000 65.48300
[1177] 55.19100 59.20100 61.81700 64.07100 66.21600 68.68100 70.47200
[1184] 71.52300 72.46200 73.73800 74.71200 75.53700 62.64900 63.19600
[1191] 64.36100 64.95100 65.81500 66.35300 66.87400 67.37800 68.22500
[1198] 69.40000 70.75500 71.75200 43.90200 46.26300 49.09600 51.44500
[1205] 55.44800 58.44700 61.40600 64.13400 66.45800 68.38600 69.90600
[1212] 71.42100 47.75200 51.33400 54.75700 56.39300 58.06500 60.06000
[1219] 62.08200 64.15100 66.45800 68.56400 70.30300 71.68800 61.31000
[1226] 65.77000 67.64000 69.61000 70.85000 70.67000 71.32000 70.98000
[1233] 70.99000 72.75000 74.67000 75.56300 59.82000 61.51000 64.39000
[1240] 66.60000 69.26000 70.41000 72.77000 74.06000 74.86000 75.97000
[1247] 77.29000 78.09800 64.28000 68.54000 69.62000 71.10000 72.16000
[1254] 73.44000 73.75000 74.63000 73.91100 74.91700 77.77800 78.74600
[1261] 52.72400 55.09000 57.66600 60.54200 64.27400 67.06400 69.88500
[1268] 71.91300 73.61500 74.77200 75.74400 76.44200 61.05000 64.10000
[1275] 66.80000 66.80000 69.21000 69.46000 69.66000 69.53000 69.36000
[1282] 69.72000 71.32200 72.47600 40.00000 41.50000 43.00000 44.10000
[1289] 44.60000 45.00000 46.21800 44.02000 23.59900 36.08700 43.41300
[1296] 46.24200 46.47100 48.94500 51.89300 54.42500 56.48000 58.55000
[1303] 60.35100 61.72800 62.74200 63.30600 64.33700 65.52800 39.87500
[1310] 42.86800 45.91400 49.90100 53.88600 58.69000 63.01200 66.29500
[1317] 68.76800 70.53300 71.62600 72.77700 37.27800 39.32900 41.45400
[1324] 43.56300 45.81500 48.87900 52.37900 55.76900 58.19600 60.18700
[1331] 61.60000 63.06200 57.99600 61.68500 64.53100 66.91400 68.70000
[1338] 70.30000 70.16200 71.21800 71.65900 72.23200 73.21300 74.00200
[1345] 30.33100 31.57000 32.76700 34.11300 35.40000 36.78800 38.44500
[1352] 40.00600 38.33300 39.89700 41.01200 42.56800 60.39600 63.17900
[1359] 65.79800 67.94600 69.52100 70.79500 71.76000 73.56000 75.78800
[1366] 77.15800 78.77000 79.97200 64.36000 67.45000 70.33000 70.98000
[1373] 70.35000 70.45000 70.80000 71.08000 71.38000 72.71000 73.80000
[1380] 74.66300 65.57000 67.85000 69.15000 69.18000 69.82000 70.97000
[1387] 71.06300 72.25000 73.64000 75.13000 76.66000 77.92600 32.97800
[1394] 34.97700 36.98100 38.97700 40.97300 41.97400 42.95500 44.50100
[1401] 39.65800 43.79500 45.93600 48.15900 45.00900 47.98500 49.95100
[1408] 51.92700 53.69600 55.52700 58.16100 60.83400 61.88800 60.23600
[1415] 53.36500 49.33900 64.94000 66.66000 69.69000 71.44000 73.06000
[1422] 74.39000 76.30000 76.90000 77.57000 78.77000 79.78000 80.94100
[1429] 57.59300 61.45600 62.19200 64.26600 65.04200 65.94900 68.75700
[1436] 69.01100 70.37900 70.45700 70.81500 72.39600 38.63500 39.62400
[1443] 40.87000 42.85800 45.08300 47.80000 50.33800 51.74400 53.55600
[1450] 55.37300 56.36900 58.55600 41.40700 43.42400 44.99200 46.63300
[1457] 49.55200 52.53700 55.56100 57.67800 58.47400 54.28900 43.86900
[1464] 39.61300 71.86000 72.49000 73.37000 74.16000 74.72000 75.44000
[1471] 76.42000 77.19000 78.16000 79.39000 80.04000 80.88400 69.62000
[1478] 70.56000 71.32000 72.77000 73.78000 75.39000 76.21000 77.41000
[1485] 78.03000 79.37000 80.62000 81.70100 45.88300 48.28400 50.30500
[1492] 53.65500 57.29600 61.19500 64.59000 66.97400 69.24900 71.52700
[1499] 73.05300 74.14300 58.50000 62.40000 65.20000 67.50000 69.39000
[1506] 70.59000 72.16000 73.40000 74.26000 75.25000 76.99000 78.40000
[1513] 41.21500 42.97400 44.24600 45.75700 47.62000 49.91900 50.60800
[1520] 51.53500 50.44000 48.46600 49.65100 52.51700 50.84800 53.63000
[1527] 56.06100 58.28500 60.40500 62.49400 64.59700 66.08400 67.29800
[1534] 67.52100 68.56400 70.61600 38.59600 41.20800 43.92200 46.76900
[1541] 49.75900 52.88700 55.47100 56.94100 58.06100 58.39000 57.56100
[1548] 58.42000 59.10000 61.80000 64.90000 65.40000 65.90000 68.30000
[1555] 68.83200 69.58200 69.86200 69.46500 68.97600 69.81900 44.60000
[1562] 47.10000 49.57900 52.05300 55.60200 59.83700 64.04800 66.89400
[1569] 70.00100 71.97300 73.04200 73.92300 43.58500 48.07900 52.09800
[1576] 54.33600 57.00500 59.50700 61.03600 63.10800 66.14600 68.83500
[1583] 70.84500 71.77700 39.97800 42.57100 45.34400 48.05100 51.01600
[1590] 50.35000 49.84900 51.50900 48.82500 44.57800 47.81300 51.54200
[1597] 69.18000 70.42000 70.76000 71.36000 72.01000 72.76000 74.04000
[1604] 75.00700 76.42000 77.21800 78.47100 79.42500 68.44000 69.49000
[1611] 70.21000 70.76000 71.34000 73.38000 74.65000 75.02000 76.09000
[1618] 76.81000 77.31000 78.24200 66.07100 67.04400 68.25300 68.46800
[1625] 68.67300 69.48100 70.80500 71.91800 72.75200 74.22300 75.30700
[1632] 76.38400 55.08800 57.90700 60.77000 63.47900 65.71200 67.45600
[1639] 68.55700 70.19000 71.15000 72.14600 72.76600 73.74700 40.41200
[1646] 42.88700 45.36300 47.83800 50.25400 55.76400 58.81600 62.82000
[1653] 67.66200 70.67200 73.01700 74.24900 43.16000 45.67100 48.12700
[1660] 51.63100 56.53200 60.76500 64.40600 67.04600 69.71800 71.09600
[1667] 72.37000 73.42200 32.54800 33.97000 35.18000 36.98400 39.84800
[1674] 44.17500 49.11300 52.92200 55.59900 58.02000 60.30800 62.69800
[1681] 42.03800 44.07700 46.02300 47.76800 50.10700 51.38600 51.82100
[1688] 50.82100 46.10000 40.23800 39.19300 42.38400 48.45100 50.46900
[1695] 52.35800 53.99500 55.63500 57.67400 60.36300 62.35100 60.37700
[1702] 46.80900 39.98900 43.48700
~~~
{: .output}

## Factor subsetting

Factor subsetting works the same way as vector subsetting.


~~~
f <- gapminder$continent
f[f == "Asia"]
~~~
{: .r}



~~~
  [1] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [15] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [29] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [43] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [57] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [71] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [85] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
 [99] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[113] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[127] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[141] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[155] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[169] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[183] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[197] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[211] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[225] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[239] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[253] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[267] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[281] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[295] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[309] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[323] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[337] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[351] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[365] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[379] Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia Asia
[393] Asia Asia Asia Asia
Levels: Africa Americas Asia Europe Oceania
~~~
{: .output}



~~~
f[1:3]
~~~
{: .r}



~~~
[1] Asia Asia Asia
Levels: Africa Americas Asia Europe Oceania
~~~
{: .output}

> ## Tip: Combining logical conditions
>
> There are many situations in which you will wish to combine multiple logical
> criteria. For example, we might want to find all the countries that are
> located in Asia **or** Europe **and** have life expectancies within a certain
> range. Several operations for combining logical vectors exist in R:
>
>  * `&`, the "logical AND" operator: returns `TRUE` if both the left and right
>    are `TRUE`.
>  * `|`, the "logical OR" operator: returns `TRUE`, if either the left or right
>    (or both) are `TRUE`.
>
> The recycling rule applies with both of these, so `TRUE & c(TRUE, FALSE, TRUE)`
> will compare the first `TRUE` on the left of the `&` sign with each of the
> three conditions on the right.
>
> You may sometimes see `&&` and `||` instead of `&` and `|`. These operators
> do not use the recycling rule: they only look at the first element of each
> vector and ignore the remaining elements. The longer operators are mainly used
> in programming, rather than data analysis.
>
>  * `!`, the "logical NOT" operator: converts `TRUE` to `FALSE` and `FALSE` to
>    `TRUE`. It can negate a single logical condition (eg `!TRUE` becomes
>    `FALSE`), or a whole vector of conditions(eg `!c(TRUE, FALSE)` becomes
>    `c(FALSE, TRUE)`).
>
> Additionally, you can compare the elements within a single vector using the
> `all` function (which returns `TRUE` if every element of the vector is `TRUE`)
> and the `any` function (which returns `TRUE` if one or more elements of the
> vector are `TRUE`).
{: .callout}

> ## Challenge 3
>
> Given the gapminder dataset, write a subsetting command to return the values > that are greater than 30 and less than 60.
>
> > ## Solution to challenge 3
> >
> > 
> > ~~~
> > x_subset <- x[x<40 & x>60]
> > print(x_subset)
> > ~~~
> > {: .r}
> > 
> > 
> > 
> > ~~~
> > numeric(0)
> > ~~~
> > {: .output}
> {: .solution}
{: .challenge}

> ## Challenge 7
>
> Fix each of the following common data frame subsetting errors:
>
> 1. Extract observations collected for the year 1957
>
>    
>    ~~~
>    gapminder[gapminder$year = 1957,]
>    ~~~
>    {: .r}
>
>    ```
>
> 2. Extract the rows where the life expectancy is longer the 80 years
>
>    
>    ~~~
>    gapminder[gapminder$lifeExp > 80]
>    ~~~
>    {: .r}
>
> 3. Extract the first row, and the fourth and fifth columns
>   (`lifeExp` and `gdpPercap`).
>
>    
>    ~~~
>    gapminder[1, 4, 5]
>    ~~~
>    {: .r}
>
> 4. Advanced: extract rows that contain information for the years 2002
>    and 2007
>
>    
>    ~~~
>    gapminder[gapminder$year == 2002 | 2007,]
>    ~~~
>    {: .r}
>
> > ## Solution to challenge 7
> >
> > Fix each of the following common data frame subsetting errors:
> >
> > 1. Extract observations collected for the year 1957
> >
> >    
> >    ~~~
> >    # gapminder[gapminder$year = 1957,]
> >    gapminder[gapminder$year == 1957,]
> >    ~~~
> >    {: .r}
> >
> >
> > 2. Extract the rows where the life expectancy is longer the 80 years
> >
> >    
> >    ~~~
> >    # gapminder[gapminder$lifeExp > 80]
> >    gapminder[gapminder$lifeExp > 80,]
> >    ~~~
> >    {: .r}
> >
> > 3. Extract the first row, and the fourth and fifth columns
> >   (`lifeExp` and `gdpPercap`).
> >
> >    
> >    ~~~
> >    # gapminder[1, 4, 5]
> >    gapminder[1, c(4, 5)]
> >    ~~~
> >    {: .r}
> >
> > 4. Advanced: extract rows that contain information for the years 2002
> >    and 2007
> >
> >     
> >     ~~~
> >     # gapminder[gapminder$year == 2002 | 2007,]
> >     gapminder[gapminder$year == 2002 | gapminder$year == 2007,]
> >     gapminder[gapminder$year %in% c(2002, 2007),]
> >     ~~~
> >     {: .r}
> {: .solution}
{: .challenge}


## Handling special values

At some point you will encounter functions in R which cannot handle missing, infinite,
or undefined data.

There are a number of special functions you can use to filter out this data:

 * `is.na` will return all positions in a vector, matrix, or data.frame
   containing `NA`.
 * likewise, `is.nan`, and `is.infinite` will do the same for `NaN` and `Inf`.
 * `is.finite` will return all positions in a vector, matrix, or data.frame
   that do not contain `NA`, `NaN` or `Inf`.
 * `na.omit` will filter out all missing values from a vector
